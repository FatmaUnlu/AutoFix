@*@model List<CartItemViewModel>*@
@using System.Globalization
@model PaymentViewModel
@{
    ViewBag.Title = "Fiyat Sayfası";
}

 <!-- Page Title -->
        <div class="page-title-area">
            <img src="~/assets/img/home-one/footer-car.png" alt="Title">
            <div class="container">
                <div class="page-title-content">
                    <h2>Sepet</h2>
                    <ul>
                        <li>
                            <a href="index.html">Home</a>
                        </li>
                        <li>
                            <i class='bx bx-chevron-right'></i>
                        </li>
                        <li>Shop</li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- End Page Title -->
<!-- Cart -->
<section class="cart-area ptb-100">
    <div class="container">
        <div class="cart-wrap">
            <table class="table">
                <thead class="thead">
                    <tr>
                        <th class="table-head" scope="col">Resim</th>
                        <th class="table-head" scope="col">Arıza</th>
                        <th class="table-head" scope="col">Hizmet-Ürün</th>
                        <th class="table-head" scope="col">Fiyat</th>
                        
                        
                    </tr>
                </thead>
                <tbody>
                    
                        @foreach (var item in Model.CartItem)
                    {
                          <input asp-for="CartItem" type="hidden" value="@item" />
                        <tr>
                            <th class="table-item" scope="row">
                                <img src="@item.Product.PicturePath" alt="Parts">
                            </th>
                            <td>@item.Failure.FailureName</td>
                            <td>@item.Product.Name</td>
                            <td>₺@item.Product.Price</td>     
                        </tr>
                    }
                    
                    

                </tbody>
            </table>
            <div class="shop-back">
                <a href="#">Go for Order?</a>
            </div>
            <div class="total-shopping">
                <h2>Toplam Sipariş</h2>
                @{
                    decimal total = 0;
                    @foreach (var item in Model.CartItem)
                    {
                        total += @item.Product.Price;
                    }

                    <h3>Toplam: <span>₺@total</span></h3>
                   
                    <form asp-action="Basket" asp-controller="CustomerManage">
                     <input asp-for="Amount" type="hidden" value="@total" />
                    
                    <input style="margin-top: 20px;display: inline-block;color: #ffffff;background-color:  #fdb819;font-size: 17px;padding: 15px 60px; border-color:#fdb819 " type="submit"  value="ÖDEME YAP"/>
                    
                    </form>
                
                    //<a asp-controller="CustomerManage" asp-action="Purchase" asp-route-id="@total.ToString(new CultureInfo ("en-US"))" >Ödeme Yap </a>
                   

                    //<a asp-action="Purchase" asp-controller="CustomerManage" >Ödeme Yap </a>
                    
                }
                
            </div>
        </div>
    </div>
</section>
<!-- End Cart -->

@section Styles{
    .total-shopping {
         input {
            margin-top: 20px;
            display: inline-block;
            color: $white-color;
            background-color: $yellow-color;
            font-size: 17px;
            padding: 15px 60px; 

            &:hover {
                background-color: $black-color;
            }
        }
    }

 
}